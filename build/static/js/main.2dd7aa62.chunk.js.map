{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonList.js","components/PersonForm.js","services/persons.js","App.js","index.js"],"names":["Filter","onChange","Person","person","removePerson","name","number","value","id","onClick","PersonList","personsToShow","map","PersonForm","props","onSubmit","handleNameChange","handleNumberChange","type","baseUrl","axios","get","then","response","data","newPerson","post","personId","delete","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","filter","setFilter","useEffect","console","log","personService","initialPersons","length","toLowerCase","includes","event","target","preventDefault","find","window","confirm","changedPerson","updatePerson","returnedPerson","concat","createPerson","personName","previousSibling","parseInt","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2dd7aa62.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({onChange}) => <>\r\n    filter shown with <input onChange={onChange}/>\r\n</>;\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Person = ({person, removePerson}) => {\r\n    return (\r\n        <div>\r\n            {person.name} {person.number}\r\n            <button value={person.id} onClick={removePerson}>remove</button>\r\n        </div>\r\n    )\r\n}\r\nexport default Person","import React from \"react\"\r\nimport PersonItem from \"./Person\"\r\n\r\nconst PersonList = ({personsToShow, removePerson}) => <>\r\n    {personsToShow.map(person =>\r\n        <PersonItem\r\n            key={person.id}\r\n            person={person}\r\n            removePerson={removePerson}\r\n        />)}\r\n</>\r\n\r\nexport default PersonList","import React from \"react\";\r\n\r\nconst PersonForm = props => <>\r\n    <form onSubmit={props.onSubmit}>\r\n        <div>\r\n            name: <input onChange={props.handleNameChange}/>\r\n        </div>\r\n        <div>\r\n            number: <input onChange={props.handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n</>;\r\n\r\nexport default PersonForm","import axios from \"axios\"\r\n\r\nconst baseUrl = 'http://localhost:3001/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (personId) => {\r\n    const request = axios.delete(`${baseUrl}/${personId}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, remove, update}","import React, {useEffect, useState} from 'react'\r\nimport Filter from \"./components/Filter\"\r\nimport PersonList from \"./components/PersonList\"\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [filter, setFilter] = useState('')\r\n\r\n    const fetchPersons = () => {\r\n        console.log('effect')\r\n        personService.getAll().then(initialPersons => setPersons(initialPersons))\r\n    }\r\n\r\n    useEffect(fetchPersons, [])\r\n\r\n    console.log('render', persons.length, 'persons')\r\n\r\n    const personsToShow = filter === ''\r\n        ? persons\r\n        : persons.filter(person => person.name.toLowerCase().includes(filter))\r\n\r\n    const handleNameChange = event => setNewName(event.target.value)\r\n    const handleNumberChange = event => setNewNumber(event.target.value)\r\n    const handleFilterChange = event => setFilter(event.target.value.toLowerCase())\r\n    const removePerson = (event) => {\r\n        const personName = event.target.previousSibling.previousSibling.previousSibling.data\r\n        const personId = parseInt(event.target.value)\r\n        if (window.confirm(`Remove ${personName} ?`)) {\r\n            setPersons(persons.filter(person => person.id !== personId))\r\n            personService.remove(personId)\r\n        }\r\n    }\r\n\r\n    const findPerson = name => persons.find(person => person.name === name)\r\n    const createPerson = (name, number) => {\r\n        const newPerson = {\r\n            name: name,\r\n            number: number,\r\n        }\r\n        personService.create(newPerson).then(returnedPerson => {\r\n            setPersons(persons.concat(returnedPerson))\r\n        })\r\n    }\r\n\r\n    const updatePerson = (number, person) => {\r\n        const changedPerson = {...person, number: number}\r\n        personService.update(person.id, changedPerson).then(changedPerson => {\r\n            setPersons(persons.map(person => person.id !== changedPerson.id ? person : changedPerson))\r\n        })\r\n    }\r\n\r\n    const addPerson = event => {\r\n        event.preventDefault()\r\n        const person = findPerson(newName)\r\n\r\n        if (!person) {\r\n            createPerson(newName, newNumber)\r\n        } else {\r\n            if (window.confirm(`${person.name} is already added to the phonebook, replace the old number with a new one?`)) {\r\n                updatePerson(newNumber, person)\r\n            }\r\n        }\r\n\r\n        // reset state\r\n        setNewName('')\r\n        setNewNumber('')\r\n\r\n        // clear input fields\r\n        event.target[0].value = ''\r\n        event.target[1].value = ''\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Filter onChange={handleFilterChange}/>\r\n\r\n            <h3>Add a new Person:</h3>\r\n            <PersonForm onSubmit={addPerson} handleNameChange={handleNameChange}\r\n                        handleNumberChange={handleNumberChange}/>\r\n\r\n            <h3>Numbers</h3>\r\n            <PersonList removePerson={removePerson} personsToShow={personsToShow}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))"],"sourceRoot":""}